window.addEventListener("load",function(){let e=document.querySelectorAll(".item-wrap__top_img_hidden");e.forEach(e=>{let t=e.querySelectorAll("img");if(t.length>1&&!e.parentNode.parentNode.querySelector(".item-wrap__top_nav")){let r=document.createElement("div");r.className="item-wrap__top_nav",e.parentNode.parentNode.appendChild(r)}t.forEach((e,t)=>{e.style.setProperty("--item-index",t);let r=e.closest(".item-wrap__top").querySelector(".item-wrap__top_nav");if(r){let o=document.createElement("div");o.className="item-wrap__top_nav_item",0==t&&o.classList.add("active"),r.appendChild(o)}})});let t=document.querySelectorAll(".item-wrap__top_nav_item");t.forEach(e=>{let t=e.closest(".item-wrap__top"),r=t.querySelector(".item-wrap__top_img_hidden"),o=t.querySelectorAll(".item-wrap__top_nav_item");e.addEventListener("click",()=>{let t=Array.from(o).indexOf(e);r.style.transform=`translateX(-${100*t}%)`,o.forEach(e=>e.classList.remove("active")),e.classList.add("active")})});let r=!1;function o(){window.innerWidth<992&&!r&&(r=!0,e.forEach(a)),window.innerWidth>=992&&r&&(r=!1,e.forEach(l))}function a(e){let t=e.querySelectorAll("img");if(t.length<=1)return;let r=0,o=0,a=!1,l=0,i=0,s=0,c=e.closest(".item-wrap__top"),p=c.querySelectorAll(".item-wrap__top_nav_item"),d=c.querySelector(".item-wrap__top_nav_item.active");s=Array.from(p).indexOf(d);let m={touchstart(t){r=t.touches[0].clientX,a=!0;let o=window.getComputedStyle(e),s=new DOMMatrixReadOnly(o.transform);i=l=s.m41,e.style.transition="none";let c=n(e);c&&(c.style.touchAction="pan-y",c.style.overflowX="hidden"),t.stopPropagation()},touchmove(t){if(!a)return;o=t.touches[0].clientX;let n=o-r,s=-(e.scrollWidth-e.clientWidth);(l=i+n)>0?l=0:l<s&&(l=s),e.style.transform=`translateX(${l}px)`,t.preventDefault(),t.stopPropagation()},touchend(t){if(!a)return;a=!1;let i=n(e);i&&(i.style.touchAction="",i.style.overflowX="");let c=o-r,d=e.clientWidth,m=s;Math.abs(c)>20&&(c>0&&s>0?m=s-1:c<0&&s<p.length-1&&(m=s+1)),e.style.transition="transform 0.3s ease",e.style.transform=`translateX(-${m*d}px)`,p.forEach(e=>e.classList.remove("active")),p[m].classList.add("active"),s=m,l=-m*d,t.stopPropagation()}};e._swipeHandlers=m,e.addEventListener("touchstart",m.touchstart,{passive:!1}),e.addEventListener("touchmove",m.touchmove,{passive:!1}),e.addEventListener("touchend",m.touchend)}function l(e){let t=e._swipeHandlers;if(!t)return;e.removeEventListener("touchstart",t.touchstart),e.removeEventListener("touchmove",t.touchmove),e.removeEventListener("touchend",t.touchend),delete e._swipeHandlers,e.style.transition="",e.style.transform="";let r=e.closest(".item-wrap__top"),o=r.querySelectorAll(".item-wrap__top_nav_item");o.forEach((e,t)=>{e.classList.remove("active"),0===t&&e.classList.add("active")}),e.style.transform="translateX(0%)"}function n(e){let t=e.parentElement;for(;t;){let r=window.getComputedStyle(t);if("scroll"===r.overflowX||"auto"===r.overflowX)return t;t=t.parentElement}return null}o(),window.addEventListener("resize",o)});